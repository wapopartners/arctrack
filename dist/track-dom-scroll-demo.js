!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackJs=t.trackDom=void 0;var r=i(n(1)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}t.trackDom=r.default,t.trackJs=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dataAttr||"data-arctrack";if(e.click){var n=(0,r.default)({cb:e.click,dataAttr:t});(0,o.default)("click",n,"["+t+"]")}if(e.scroll){var a=(0,i.default)(e.scroll);window.onscroll=a}};var r=a(n(2)),o=a(n(5)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.cb,n=e.dataAttr;return function(e){var i=e.target;try{t({type:(0,r.default)(i,n),target:i})}catch(e){o.default.defaultError(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.closest("["+t+"]").getAttribute(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"defaultError",value:function(e){console.error("Arctrack failed with the following error: ",e)}},{key:"methodFailed",value:function(e,t,n){var r=n?"while trying to execute your callback: "+n:"";console.error(e+" failed "+r+", with the following error",t)}}]),e}();t.default=new o},function(e,t,n){"use strict";e.exports=function(e,t,n){(arguments.length>3&&void 0!==arguments[3]?arguments[3]:document).addEventListener(e,function(e){(!n||e.target.matches(n)||e.currentTarget.activeElement.matches(n)||e.target.parentElement&&e.target.parentElement.matches(n))&&(e.stopPropagation(),t(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(7));t.default=function(e){return new r.default(Array.isArray(e)?e:[e]).activate()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(8)),i=c(n(10)),a=c(n(11)),u=c(n(12));function c(e){return e&&e.__esModule?e:{default:e}}var l=1e3,s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entries=t,this.throttleSpeed=n,this.testElements=this.testElements.bind(this),this.entryTypes={},this.pendingElements={},this.scrolledElements={},this.scrollStatus={lastY:0,direction:"down"}}return r(e,[{key:"activate",value:function(){var e=this;return this.entries.forEach(function(t){e.registerEntry((0,a.default)(t));for(var n=document.querySelectorAll("[data-"+t.selector+"]"),r=!!t.trackOnceOnly&&t.trackOnceOnly,o=0;o<n.length;o+=1){var u=n[o];e.registerElement({node:u,type:t.type,trackOnceOnly:r,id:(0,i.default)()})}}),(0,o.default)(this.testElements,this.throttleSpeed)}},{key:"registerEntry",value:function(e){var t=e.load,n=e.shouldLoad,r=e.type,o=e.selector;this.entryTypes[r]={load:t,shouldLoad:n,selector:o}}},{key:"registerElement",value:function(e){var t=e.node,n=e.id,r=e.type,o=e.trackOnceOnly;this.pendingElements[n]={type:r,target:t,trackOnceOnly:o}}},{key:"transferElement",value:function(e){this.scrolledElements[e]=this.pendingElements[e]}},{key:"testElements",value:function(e){var t=this;this.detectScrollDirection(),Object.keys(this.pendingElements).forEach(function(n){var r=t.pendingElements[n],o=r.target,i=r.type,a=r.trackOnceOnly,c=t.entryTypes[i];c.shouldLoad(o,t.scrollStatus.direction)&&(c.load({target:(0,u.default)(o,c.selector),type:i,pageData:e}),a||t.transferElement(n),delete t.pendingElements[n])})}},{key:"handleDirectionChange",value:function(){var e=this.scrolledElements;this.scrolledElements=this.removePendingElements(),Object.assign(this.pendingElements,e)}},{key:"detectScrollDirection",value:function(){var e=window.pageYOffset,t=void 0;(t=e>=this.scrollStatus.lastY?"down":"up")!==this.scrollStatus.direction&&this.handleDirectionChange(),this.scrollStatus.direction=t,this.scrollStatus.lastY=e}},{key:"removePendingElements",value:function(){var e=this,t={};return Object.keys(this.pendingElements).forEach(function(n){t[n]=e.pendingElements[n],delete e.pendingElements[n]}),t}}]),e}();t.default=s},function(e,t,n){(function(t){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=s||f||Function("return this")(),p=Object.prototype.toString,v=Math.max,y=Math.min,h=function(){return d.Date.now()};function g(e,t,r){var o,i,a,u,c,l,s=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function g(t){var n=o,r=i;return o=i=void 0,s=t,u=e.apply(r,n)}function O(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-s>=a}function w(){var e=h();if(O(e))return j(e);c=setTimeout(w,function(e){var n=t-(e-l);return d?y(n,a-(e-s)):n}(e))}function j(e){return c=void 0,p&&o?g(e):(o=i=void 0,u)}function E(){var e=h(),n=O(e);if(o=arguments,i=this,l=e,n){if(void 0===c)return function(e){return s=e,c=setTimeout(w,t),f?g(e):u}(l);if(d)return c=setTimeout(w,t),g(l)}return void 0===c&&(c=setTimeout(w,t)),u}return t=b(t)||0,m(r)&&(f=!!r.leading,a=(d="maxWait"in r)?v(b(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),E.cancel=function(){void 0!==c&&clearTimeout(c),s=0,o=l=i=c=void 0},E.flush=function(){return void 0===c?u:j(h())},E}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return r;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return m(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),g(e,t,{leading:o,maxWait:t,trailing:i})}}).call(t,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e="",t=0;t<10;t+=1){var n=Math.floor(24*Math.random());e+=n%2==0?r[n]:n}return e};var r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;return t=e.buffer?o(r(e.buffer)):o({top:0,bottom:0}),Object.assign({},{load:e.load,type:e.type,selector:e.selector,shouldLoad:t})};var r=function(e){return e.top?e.bottom?e:Object.assign({},e,{bottom:0}):Object.assign({},e,{top:0})},o=function(e){return function(t,n){var r=t.getBoundingClientRect(),o=e.top,i=e.bottom;return"down"===n&&r.top<=o||"up"===n&&r.bottom>=window.innerHeight+i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=u((0,r.default)(a(t)));return{node:e,data:(0,o.default)(e,n)}};var r=i(n(13)),o=i(n(14));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return e.replace(/-/g," ")},u=function(e){return e.indexOf(" ")>-1?e.replace(" ",""):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase().replace(/\s+/g,"")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Object.assign({},JSON.parse(JSON.stringify(e.dataset))),r=void 0;return Object.keys(n).forEach(function(e){e.indexOf(t)>-1&&(r=n[e])}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return function(n,o,i){var a=i.value;return r({},i,{value:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];try{e({methodName:o,instance:this,eventName:t,args:r})}catch(e){throw new Error("trackJs: failed with the following error: "+e)}return a.apply(this,r)}})}}},,function(e,t,n){"use strict";var r=n(0),o=function(e){var t=e.type,n=e.target,r="\n#################################\nUser scrolled an element of type '"+t+"' into view!";"media-module"===t?console.log(r+"...","but it will not fire again!"):console.log(r),console.log("Here's the "+t+" scroll event target:\n",n)},i=[];i.push({selector:"page",load:o,type:"page"}),i.push({selector:"page-on",type:"media-module",load:o,trackOnceOnly:!0}),window.onload=function(){(0,r.trackDom)({scroll:i})}}])});