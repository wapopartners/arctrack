!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(14),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(1).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackJs=t.trackDom=void 0;var r=i(n(4)),o=i(n(27));function i(e){return e&&e.__esModule?e:{default:e}}t.trackDom=r.default,t.trackJs=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dataAttr||"data-arctrack";if(e.click){var n=(0,r.default)({cb:e.click,dataAttr:t});(0,o.default)("click",n,"["+t+"]")}if(e.scroll){var u=(0,i.default)(e.scroll);window.onscroll=u}};var r=u(n(5)),o=u(n(8)),i=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(6)),o=i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.cb,n=e.dataAttr;return function(e){var i=e.target;try{t({type:(0,r.default)(i,n),target:i})}catch(e){o.default.defaultError(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.closest("["+t+"]").getAttribute(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"defaultError",value:function(e){console.error("Arctrack failed with the following error: ",e)}},{key:"methodFailed",value:function(e,t,n){var r=n?"while trying to execute your callback: "+n:"";console.error(e+" failed "+r+", with the following error",t)}}]),e}();t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(arguments.length>3&&void 0!==arguments[3]?arguments[3]:document).addEventListener(e,function(e){(!n||e.target.matches(n)||e.currentTarget.activeElement.matches(n)||e.target.parentElement&&e.target.parentElement.matches(n))&&(e.stopPropagation(),t(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return new i.default(Array.isArray(e)?e:[e]).activate()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(11)),i=c(n(22)),u=c(n(23)),a=c(n(24));function c(e){return e&&e.__esModule?e:{default:e}}var l=1e3,f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entries=t,this.throttleSpeed=n,this.testElements=this.testElements.bind(this),this.entryTypes={},this.pendingElements={},this.scrolledElements={},this.scrollStatus={lastY:0,direction:"down"}}return r(e,[{key:"activate",value:function(){var e=this;return this.entries.forEach(function(t){e.registerEntry((0,u.default)(t));for(var n=document.querySelectorAll("[data-"+t.selector+"]"),r=!!t.trackOnceOnly&&t.trackOnceOnly,o=0;o<n.length;o+=1){var a=n[o];e.registerElement({node:a,type:t.type,trackOnceOnly:r,id:(0,i.default)()})}}),(0,o.default)(this.testElements,this.throttleSpeed)}},{key:"registerEntry",value:function(e){var t=e.load,n=e.shouldLoad,r=e.type,o=e.selector;this.entryTypes[r]={load:t,shouldLoad:n,selector:o}}},{key:"registerElement",value:function(e){var t=e.node,n=e.id,r=e.type,o=e.trackOnceOnly;this.pendingElements[n]={type:r,target:t,trackOnceOnly:o}}},{key:"transferElement",value:function(e){this.scrolledElements[e]=this.pendingElements[e]}},{key:"testElements",value:function(e){var t=this;this.detectScrollDirection(),Object.keys(this.pendingElements).forEach(function(n){var r=t.pendingElements[n],o=r.target,i=r.type,u=r.trackOnceOnly,c=t.entryTypes[i];c.shouldLoad(o,t.scrollStatus.direction)&&(c.load({target:(0,a.default)(o,c.selector),type:i,pageData:e}),u||t.transferElement(n),delete t.pendingElements[n])})}},{key:"handleDirectionChange",value:function(){var e=this.scrolledElements;this.scrolledElements=this.removePendingElements(),Object.assign(this.pendingElements,e)}},{key:"detectScrollDirection",value:function(){var e=window.pageYOffset,t=void 0;(t=e>=this.scrollStatus.lastY?"down":"up")!==this.scrollStatus.direction&&this.handleDirectionChange(),this.scrollStatus.direction=t,this.scrollStatus.lastY=e}},{key:"removePendingElements",value:function(){var e=this,t={};return Object.keys(this.pendingElements).forEach(function(n){t[n]=e.pendingElements[n],delete e.pendingElements[n]}),t}}]),e}();t.default=f},function(e,t,n){var r=n(12),o=n(0),i="Expected a function";e.exports=function(e,t,n){var u=!0,a=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(u="leading"in n?!!n.leading:u,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:u,maxWait:t,trailing:a})}},function(e,t,n){var r=n(0),o=n(13),i=n(16),u="Expected a function",a=Math.max,c=Math.min;e.exports=function(e,t,n){var l,f,s,d,v,p,y=0,h=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError(u);function m(t){var n=l,r=f;return l=f=void 0,y=t,d=e.apply(r,n)}function O(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-y>=s}function j(){var e,n,r=o();if(O(r))return E(r);v=setTimeout(j,(n=t-((e=r)-p),g?c(n,s-(e-y)):n))}function E(e){return v=void 0,b&&l?m(e):(l=f=void 0,d)}function w(){var e,n=o(),r=O(n);if(l=arguments,f=this,p=n,r){if(void 0===v)return y=e=p,v=setTimeout(j,t),h?m(e):d;if(g)return v=setTimeout(j,t),m(p)}return void 0===v&&(v=setTimeout(j,t)),d}return t=i(t)||0,r(n)&&(h=!!n.leading,s=(g="maxWait"in n)?a(i(n.maxWait)||0,t):s,b="trailing"in n?!!n.trailing:b),w.cancel=function(){void 0!==v&&clearTimeout(v),y=0,l=p=f=v=void 0},w.flush=function(){return void 0===v?d:E(o())},w}},function(e,t,n){var r=n(1);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(15))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(0),o=n(17),i=NaN,u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=c.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):a.test(e)?i:+e}},function(e,t,n){var r=n(18),o=n(21),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(2),o=n(19),i=n(20),u="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:u:c&&c in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(2),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[a]=n:delete e[a]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e="",t=0;t<10;t+=1){var n=Math.floor(24*Math.random());e+=n%2==0?r[n]:n}return e};var r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;return t=e.buffer?o(r(e.buffer)):o({top:0,bottom:0}),Object.assign({},{load:e.load,type:e.type,selector:e.selector,shouldLoad:t})};var r=function(e){return e.top?e.bottom?e:Object.assign({},e,{bottom:0}):Object.assign({},e,{top:0})},o=function(e){return function(t,n){var r=t.getBoundingClientRect(),o=e.top,i=e.bottom;return"down"===n&&r.top<=o||"up"===n&&r.bottom>=window.innerHeight+i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a((0,r.default)(u(t)));return{node:e,data:(0,o.default)(e,n)}};var r=i(n(25)),o=i(n(26));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.replace(/-/g," ")},a=function(e){return e.indexOf(" ")>-1?e.replace(" ",""):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase().replace(/\s+/g,"")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Object.assign({},JSON.parse(JSON.stringify(e.dataset))),r=void 0;return Object.keys(n).forEach(function(e){e.indexOf(t)>-1&&(r=n[e])}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return function(n,o,i){var u=i.value;return r({},i,{value:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];try{e({methodName:o,instance:this,eventName:t,args:r})}catch(e){throw new Error("trackJs: failed with the following error: "+e)}return u.apply(this,r)}})}}}])});